{"ast":null,"code":"var _jsxFileName = \"/Users/juliaweppler/Documents/GitHub/CoffeeHouse/src/components/BarChart.js\",\n  _s = $RefreshSig$();\n// BarChart.js\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet data;\nconst BarChart = () => {\n  _s();\n  useEffect(() => {\n    // CHART INIT ------------------------------\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const width = 600 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    // Chart initialization in the global scope\n    const svg = d3.select('#chart-container').append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n    const xScale = d3.scaleBand().rangeRound([0, width]).paddingInner(0.1);\n    const yScale = d3.scaleLinear().range([height, 0]);\n    svg.append('g').attr('class', 'axis y-axis');\n    svg.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height})`);\n    svg.append('text').attr('class', 'y-axis-title').attr('transform', 'rotate(-90)').attr('y', 0).attr('x', 0).attr('dy', '1em').style('text-anchor', 'middle');\n\n    // Initialize the 'type' and 'sortDirection' variables\n    let type = document.querySelector('#group-by').value;\n    let sortDirection = 'ascending';\n\n    // Add the sort button in HTML\n    const sortButton = document.createElement('button');\n    sortButton.innerHTML = 'Sort';\n    sortButton.addEventListener('click', () => {\n      sortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      updateChart(data, type, sortDirection);\n    });\n    document.getElementById('chart-container').appendChild(sortButton);\n\n    // CHART UPDATE FUNCTION -------------------\n    function updateChart(data, type, sortDirection) {\n      // Update scale domains\n      xScale.domain(data.map(d => d.company));\n      yScale.domain([0, d3.max(data, d => d[type])]);\n      ;\n      // Sorting based on the selected type and direction\n      data.sort((a, b) => {\n        const aValue = a[type];\n        const bValue = b[type];\n        return sortDirection === 'ascending' ? aValue - bValue : bValue - aValue;\n      });\n\n      // Update bars with transitions\n      const bars = svg.selectAll('.bar').data(data, d => d.company);\n      bars.enter().append('rect').attr('class', 'bar').merge(bars).transition().delay((d, i) => i * 50).duration(500).attr('x', d => xScale(d.company)).attr('y', d => yScale(d[type])).attr('width', xScale.bandwidth()).attr('height', d => height - yScale(d[type]));\n      bars.exit().remove();\n\n      // Update axes and axis title with transitions\n      svg.select('.x-axis').transition().duration(500).call(d3.axisBottom(xScale));\n      svg.select('.y-axis').transition().duration(500).call(d3.axisLeft(yScale));\n      svg.select('.y-axis-title').text(type === 'stores' ? 'Stores' : 'Revenue'); // Manually update the axis title based on the type\n    }\n\n    // CHART UPDATES ---------------------------\n\n    d3.csv('data.csv', d3.autoType).then(initialData => {\n      data = initialData;\n      updateChart(data, type, sortDirection);\n    });\n\n    // Handling the type change\n    document.querySelector('#group-by').addEventListener('change', function () {\n      type = this.value;\n      updateChart(data, type, sortDirection);\n    });\n\n    // Handling the sorting direction change (if needed)\n    // This is already covered by the sort button click event\n  }, []); // useEffect dependencies\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"group-by\",\n      children: \"Group By\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"group-by\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"stores\",\n        children: \"Stores worldwide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"revenue\",\n        children: \"Revenue in billion U.S. dollars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"chart-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(BarChart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = BarChart;\nexport default BarChart;\nvar _c;\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["React","useEffect","d3","jsxDEV","_jsxDEV","data","BarChart","_s","margin","top","right","bottom","left","width","height","svg","select","append","attr","xScale","scaleBand","rangeRound","paddingInner","yScale","scaleLinear","range","style","type","document","querySelector","value","sortDirection","sortButton","createElement","innerHTML","addEventListener","updateChart","getElementById","appendChild","domain","map","d","company","max","sort","a","b","aValue","bValue","bars","selectAll","enter","merge","transition","delay","i","duration","bandwidth","exit","remove","call","axisBottom","axisLeft","text","csv","autoType","then","initialData","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/juliaweppler/Documents/GitHub/CoffeeHouse/src/components/BarChart.js"],"sourcesContent":["// BarChart.js\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './App.css';\n\nlet data; \n\nconst BarChart = () => {\n  useEffect(() => {\n\n    // CHART INIT ------------------------------\n    const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n    const width = 600 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    // Chart initialization in the global scope\n    const svg = d3.select('#chart-container').append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    const xScale = d3.scaleBand().rangeRound([0, width]).paddingInner(0.1);\n    const yScale = d3.scaleLinear().range([height, 0]);\n\n    svg.append('g').attr('class', 'axis y-axis');\n    svg.append('g').attr('class', 'axis x-axis').attr('transform', `translate(0,${height})`);\n    svg.append('text').attr('class', 'y-axis-title').attr('transform', 'rotate(-90)').attr('y', 0).attr('x', 0).attr('dy', '1em').style('text-anchor', 'middle');\n\n    // Initialize the 'type' and 'sortDirection' variables\n    let type = document.querySelector('#group-by').value;\n    let sortDirection = 'ascending';\n\n    // Add the sort button in HTML\n    const sortButton = document.createElement('button');\n    sortButton.innerHTML = 'Sort';\n    sortButton.addEventListener('click', () => {\n      sortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      updateChart(data, type, sortDirection);\n    });\n    document.getElementById('chart-container').appendChild(sortButton);\n\n    // CHART UPDATE FUNCTION -------------------\n    function updateChart(data, type, sortDirection) {\n      // Update scale domains\n      xScale.domain(data.map(d => d.company));\n      yScale.domain([0, d3.max(data, d => d[type])]);;\n      // Sorting based on the selected type and direction\n      data.sort((a, b) => {\n        const aValue = a[type];\n        const bValue = b[type];\n        return sortDirection === 'ascending' ? aValue - bValue : bValue - aValue;\n      });\n\n      // Update bars with transitions\n      const bars = svg.selectAll('.bar').data(data, d => d.company);\n\n      bars\n        .enter()\n        .append('rect')\n        .attr('class', 'bar')\n        .merge(bars)\n        .transition()\n        .delay((d, i) => i * 50)\n        .duration(500)\n        .attr('x', d => xScale(d.company))\n        .attr('y', d => yScale(d[type]))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => height - yScale(d[type]));\n\n      bars.exit().remove();\n\n      // Update axes and axis title with transitions\n      svg.select('.x-axis').transition().duration(500).call(d3.axisBottom(xScale));\n      svg.select('.y-axis').transition().duration(500).call(d3.axisLeft(yScale));\n      svg.select('.y-axis-title').text(type === 'stores' ? 'Stores' : 'Revenue'); // Manually update the axis title based on the type\n    }\n\n    // CHART UPDATES ---------------------------\n\n    d3.csv('data.csv', d3.autoType).then(initialData => {\n        data = initialData;\n        updateChart(data, type, sortDirection);\n      });\n    \n\n    // Handling the type change\n    document.querySelector('#group-by').addEventListener('change', function () {\n      type = this.value;\n      updateChart(data, type, sortDirection);\n    });\n\n    // Handling the sorting direction change (if needed)\n    // This is already covered by the sort button click event\n\n  }, []); // useEffect dependencies\n\n  return (\n    <div>\n      <label htmlFor=\"group-by\">Group By</label>\n      <select id=\"group-by\">\n        <option value=\"stores\">Stores worldwide</option>\n        <option value=\"revenue\">Revenue in billion U.S. dollars</option>\n      </select>\n      <div id=\"chart-container\"></div>\n    </div>\n  );\n};\nexport default BarChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}